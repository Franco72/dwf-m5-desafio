var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},s=t.parcelRequirefb97;null==s&&((s=function(t){if(t in e)return e[t].exports;if(t in n){let s=n[t];delete n[t];let i={id:t,exports:{}};return e[t]=i,s.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){n[t]=e},t.parcelRequirefb97=s);const i={data:{currentGame:{playerMove:"",machineMove:""},history:[]},listeners:[],init(){const t=localStorage.getItem("state");this.setState(JSON.parse(t))},getState(){return this.data},setState(t){this.data=t;for(const t of this.listeners)t();localStorage.setItem("state",JSON.stringify(t))},subscribe(t){this.listeners.push(t)},setMove(t){const e=this.getState();e.currentGame.playerMove=t,e.currentGame.machineMove=this.chooseAleatoryMove(),e.history.push({playerMove:e.currentGame.playerMove,machineMove:e.currentGame.machineMove}),this.setState(e)},chooseAleatoryMove(){const t=["piedra","papel","tijera"];return t[Math.floor(Math.random()*t.length)]},getCurrentPlay(){return this.getState().currentGame},getCurrentWhoWins(){const t=this.getState(),e=t.currentGame.playerMove,n=t.currentGame.machineMove;return this.getWhoWins(e,n)},getWhoWins(t,e){const n=["piedra"==t&&"papel"==e,"papel"==t&&"tijera"==e,"tijera"==t&&"piedra"==e];return["piedra"==t&&"tijera"==e,"papel"==t&&"piedra"==e,"tijera"==t&&"papel"==e].includes(!0)?1:n.includes(!0)?-1:0},getHistoryOfPoints(){let t=0,e=0;const n=this.getState().history;for(const s of n)1==this.getWhoWins(s.playerMove,s.machineMove)&&t++,-1==this.getWhoWins(s.playerMove,s.machineMove)&&e++;return{playerPoints:t,machinePoints:e}}};const o=[{path:/\/home$/,component:function(t){const e=document.createElement("div");return e.innerHTML='<section class="home">\n  <div class="home-content">\n    <text-custom variant="title" class="home__title"\n      >Piedra Papel ó Tijera</text-custom\n    >\n    <btn-default-custom class="home__btn">Empezar</btn-default-custom>\n  </div>\n  <div class="home-hands-container">\n  <hands-component></hands-component>\n  </div>\n</section>',e.querySelector(".home__btn").addEventListener("click",(()=>{t.goTo("/instructions")})),e}},{path:/\/instructions$/,component:function(t){const e=document.createElement("div");return e.innerHTML='<section class="instructions">\n  <div class="instructions-content">\n    <text-custom class="instructions__title">\n      Presioná jugar y elegí: piedra, papel o tijera antes de que pasen\n      los 3 segundos.\n    </text-custom>\n    <btn-default-custom class="instructions__btn"\n      >¡Jugar!</btn-default-custom\n    >\n  </div>\n  <div class="ins-hands-container">\n  <hands-component></hands-component>\n  </div>\n</section>',e.querySelector(".instructions__btn").addEventListener("click",(()=>{t.goTo("/play")})),e}},{path:/\/play$/,component:function(t){const e=document.createElement("div");e.innerHTML='<section class="play">\n  <div class="play-content">\n    <div class="spinner"></div>\n    <h2 variant="title" class="spinner__text"></h2>\n    <div class="hands-container">\n     <a-move typemove="tijera" class="move-icon"></a-move>\n     <a-move typemove="piedra" class="move-icon"></a-move>\n     <a-move typemove="papel" class="move-icon"></a-move>\n    </div>\n    </div>\n    <div class="move-player-container"></div>\n    <div class="move-machine-container"></div>\n</section>';const n=e.querySelectorAll(".move-icon");let s=null;for(const t of n)t.addEventListener("typemove",(e=>{t.classList.remove("set-opacity"),t.classList.remove("shrink-icon");for(const t of n)t.getAttribute("typemove")!=e.detail.move&&(t.classList.add("set-opacity"),t.classList.add("shrink-icon"));s=e.detail.move}));let o=3;const a=e.querySelector(".spinner__text"),r=setInterval((()=>{if(a.innerHTML=`${o}`,o--,-2==o){clearInterval(r);if(e.querySelector(".play-content").style.display="none",null!=s){i.setMove(s);!function(t,e){const n=document.createElement("a-move"),s=document.createElement("a-move"),o=i.getCurrentPlay();n.setAttribute("typemove",o.playerMove),s.setAttribute("typemove",o.machineMove),
//! Ver las dimensiones del componente, capaz sirve agrandar/achicar un poco según el dispositivo
t.appendChild(n),e.appendChild(s)}(e.querySelector(".move-player-container"),e.querySelector(".move-machine-container"));setTimeout((()=>{const n=document.createElement("view-result");n.classList.add("set-font-family"),n.setAttribute("result",i.getCurrentWhoWins()),n.setAttribute("player-points",JSON.stringify(i.getHistoryOfPoints().playerPoints)),n.setAttribute("Machine-points",JSON.stringify(i.getHistoryOfPoints().machinePoints)),n.addEventListener("newgame",(()=>{t.goTo("/play")})),e.appendChild(n)}),3e3)}else t.goTo("/instructions")}}),1e3);return e}}];var a;s.register("vNK0r",(function(t,e){var n,s,i,o,a;n=t.exports,s="getBundleURL",i=()=>a,o=t=>a=t,Object.defineProperty(n,s,{get:i,set:o,enumerable:!0,configurable:!0});var r=null;function c(t){return(""+t).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}a=function(){return r||(r=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(t)return c(t[0])}return"/"}()),r}})),a=s("vNK0r").getBundleURL()+"piedra-for-component.9126c655.png";var r;r=s("vNK0r").getBundleURL()+"papel-for-component.6e5b5516.png";var c;c=s("vNK0r").getBundleURL()+"tijera-for-component.56fa437d.png";var l;l=s("vNK0r").getBundleURL()+"tijera.0e6cd8c0.png";var d;d=s("vNK0r").getBundleURL()+"piedra.1f909a13.png";var h;h=s("vNK0r").getBundleURL()+"papel.a7b76899.png";var p;p=s("vNK0r").getBundleURL()+"ganaste-icon.7f930fb5.png";var m;m=s("vNK0r").getBundleURL()+"perdiste-icon.ef0e3b8a.png";var u;u=s("vNK0r").getBundleURL()+"empate-icon.991cb981.png",customElements.define("text-custom",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.variant=this.getAttribute("variant"),this.strike=JSON.parse(this.getAttribute("strike"));const t=document.createElement("style");t.textContent="\n        .set-margin-to-zero{\n          margin: 0;\n                  }\n                  .title{\n                    font-weight: 700;\n                    font-size: 80px;\n                  }\n                  .subtitle{\n                    font-weight: 400;\n                    font-size: 55px;\n                  }\n                  .big-text{\n                    font-weight: 400;\n                    font-size: 45px;\n                  }\n                  .small-text {\n                    font-weight: 600;\n                    font-size: 40px;\n                  }\n                  .strike {\n                    text-decoration:line-through;\n                  }\n                  .set-line-height{\n                    line-height: 92.1%;\n                  }\n                  ",this.shadow.appendChild(t),this.render()}render(){const t=[{name:"title",class:"title",elementType:"h1"},{name:"subtitle",class:"subtitle",elementType:"h2"},{name:"small-text",class:"small-text",elementType:"p"},{name:"big-text",class:"big-text",elementType:"p"}];if(this.variant){for(const e of t)if(e.name==this.variant){const t=document.createElement(e.elementType);t.classList.add(e.class),t.classList.add("set-margin-to-zero"),t.classList.add("set-line-height"),1==this.strike&&t.classList.add("strike"),t.textContent=this.textContent,this.shadow.appendChild(t)}}else{const t=document.createElement("p");t.classList.add("small-text"),t.classList.add("set-margin-to-zero"),t.classList.add("set-line-height"),1==this.strike&&t.classList.add("strike"),t.textContent=this.textContent,this.shadow.appendChild(t)}}}),customElements.define("btn-default-custom",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"});const t=document.createElement("style");t.textContent="\n        .btn-default {\n          font-family: inherit;\n          font-weight: 400;\n          font-size: 45px;\n          border: 10px solid var(--btn-blue-color-focus);\n          border-radius: 10px;\n          padding: 7px 6px;\n          background-color: var(--btn-blue-color);\n          color: #FFF;\n          width: 100%;\n        }\n        .btn-default:hover {\n          cursor: pointer;\n          background-color: #0f74f8;\n        }\n        ",this.shadow.appendChild(t),this.render()}render(){const t=document.createElement("button");t.classList.add("btn-default"),t.textContent=this.textContent,this.shadow.appendChild(t)}}),customElements.define("a-move",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.typemove=this.getAttribute("typemove").toLowerCase();const t=document.createElement("style");t.textContent="\n        .icon {\n          cursor: pointer;\n        }\n        @media (max-width:769px) {\n          .icon{\n            width: 90px;\n            height: 170px;\n          }\n        }\n        ",this.shadow.appendChild(t),this.render()}render(){const t=document.createElement("div");t.innerHTML=`<img src ="${this.findIconImageUrl()}" class="icon"></img>`,t.querySelector(".icon").addEventListener("click",(()=>{const t=new CustomEvent("typemove",{detail:{move:this.typemove}});this.dispatchEvent(t)})),this.shadow.appendChild(t)}findIconImageUrl(){return"piedra"==this.typemove?a:"papel"==this.typemove?r:"tijera"==this.typemove?c:void 0}}),customElements.define("view-result",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.result=JSON.parse(this.getAttribute("result")),this.playerPoints=JSON.parse(this.getAttribute("player-points")),this.machinePoints=JSON.parse(this.getAttribute("machine-points"));const t=document.createElement("style");t.textContent="\n        .background-setter {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          opacity: 0.7;\n        }\n        .result {\n          position: fixed;\n          top: 0;\n          width: 100vw;\n          height: 100vh;\n        }\n        .result-content {\n          height: 100%;\n          display: grid;\n          justify-content: center;\n          align-items: center;\n          gap: 21px;\n        }\n        .container__star{\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        .score {\n          width: 259px;\n          border: 10px solid black;\n          border-radius: 10px;\n          background-color: #fff;\n          margin: 0 auto;\n          display: flex;\n          flex-direction: column;\n          justify-content:center;\n          gap: 25px;\n          padding: 20px 10px 20px 10px;\n          text-align: center;\n        }\n        .score__text{\n          text-align: right;\n        }\n        ",this.shadow.appendChild(t),this.setBgColorAndIconUrl(),this.render()}render(){const t=document.createElement("div");t.innerHTML=`<div class="background-setter"></div>\n        <section class="result">\n          <div class="result-content">\n            <div class="container__star">\n              <img src ="${this.iconImgUrl}" alt="${this.result+"icon"}">\n            </div>\n            <div class="score">\n              <div class="score__title">\n                <text-custom variant="subtitle">Score</text-custom>\n              </div>\n              <div class="score__text">\n                <text-custom variant="big-text">Vos: ${this.playerPoints}</text-custom>\n                <text-custom variant="big-text">Máquina: ${this.machinePoints}</text-custom>\n              </div>\n            </div>\n            <btn-default-custom class="result__btn"\n              >Volver a Jugar</btn-default-custom\n            >\n          </div>\n        </section>`,t.querySelector(".result__btn").addEventListener("click",(()=>{const t=new CustomEvent("newgame");this.dispatchEvent(t)})),t.querySelector(".background-setter").style.backgroundColor=this.bgColor,this.shadow.appendChild(t)}setBgColorAndIconUrl(){1==this.result?(this.bgColor="#888949E5",this.iconImgUrl=p):-1==this.result?(this.bgColor="#894949e5",this.iconImgUrl=m):0==this.result&&(this.bgColor="#495f89e5",this.iconImgUrl=u)}}),customElements.define("hands-component",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"});const t=document.createElement("style");t.textContent="\n        .hands-container {\n            width: 100vw;\n            display: grid;\n            grid-template-columns: repeat(3, auto);\n            justify-content: center;\n            gap: 46.71px;\n          }\n          @media (min-width: 769px) {\n            .hands-container {\n              gap: 65px;\n            }\n          }\n          .hand-icon {\n            width: 70px;\n            height: 120px;\n          }\n          @media (min-width: 769px) {\n            .hand-icon {\n              width: 79px;\n              height: 141px;\n            }\n          }\n          ",this.shadow.appendChild(t),this.render()}render(){const t=document.createElement("div");t.innerHTML=`  <div class="hands-container">\n          <img class="hand-icon" src="${l}" alt="" />\n          <img class="hand-icon" src="${d}" alt="" />\n          <img class="hand-icon" src="${h}" alt="" />\n        </div>`,this.shadow.appendChild(t)}});!function(t){function e(t){history.pushState({},"",t),n(t)}function n(n){for(const s of o)if(s.path.test(n)){const n=s.component({goTo:e});t.firstChild&&t.firstChild.remove(),t.appendChild(n)}}"/"==location.pathname?e("/home"):n(location.pathname),window.onpopstate=()=>{n(location.pathname)}}(document.getElementById("root")),i.init();
//# sourceMappingURL=index.34b204c5.js.map
