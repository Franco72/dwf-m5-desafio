var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequirefb97;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){let s=n[e];delete n[e];let i={id:e,exports:{}};return t[e]=i,s.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequirefb97=s);const i={data:{currentGame:{playerMove:"",machineMove:""},history:[]},listeners:[],init(){const e=localStorage.getItem("state-saved-game");null!=JSON.parse(e)&&this.setState(JSON.parse(e))},getState(){return this.data},setState(e){this.data=e;for(const e of this.listeners)e();localStorage.setItem("state-saved-game",JSON.stringify(e))},subscribe(e){this.listeners.push(e)},setMove(e){const t=this.getState();t.currentGame.playerMove=e,t.currentGame.machineMove=this.chooseAleatoryMove(),t.history.push({playerMove:t.currentGame.playerMove,machineMove:t.currentGame.machineMove}),this.setState(t)},chooseAleatoryMove(){const e=["piedra","papel","tijera"];return e[Math.floor(Math.random()*e.length)]},getCurrentPlay(){return this.getState().currentGame},getCurrentWhoWins(){const e=this.getState(),t=e.currentGame.playerMove,n=e.currentGame.machineMove;return this.getWhoWins(t,n)},getWhoWins(e,t){const n=["piedra"==e&&"papel"==t,"papel"==e&&"tijera"==t,"tijera"==e&&"piedra"==t];return["piedra"==e&&"tijera"==t,"papel"==e&&"piedra"==t,"tijera"==e&&"papel"==t].includes(!0)?1:n.includes(!0)?-1:0},getHistoryOfPoints(){let e=0,t=0;const n=this.getState().history;for(const s of n)1==this.getWhoWins(s.playerMove,s.machineMove)&&e++,-1==this.getWhoWins(s.playerMove,s.machineMove)&&t++;return{playerPoints:e,machinePoints:t}}};const o=[{path:/\/dwf-m5-desafio\/home$/,component:function(e){const t=document.createElement("div");return t.innerHTML='<section class="home">\n  <div class="home-content">\n    <text-custom variant="title" class="home__title"\n      >Piedra Papel ó Tijera</text-custom\n    >\n    <btn-default-custom class="home__btn">Empezar</btn-default-custom>\n  </div>\n  <div class="home-hands-container">\n  <hands-component></hands-component>\n  </div>\n</section>',t.querySelector(".home__btn").addEventListener("click",(()=>{e.goTo("/instructions")})),t}},{path:/\/dwf-m5-desafio\/instructions$/,component:function(e){const t=document.createElement("div");return t.innerHTML='<section class="instructions">\n  <div class="instructions-content">\n    <text-custom class="instructions__title">\n      Presioná jugar y elegí: piedra, papel o tijera antes de que pasen\n      los 3 segundos.\n    </text-custom>\n    <btn-default-custom class="instructions__btn"\n      >¡Jugar!</btn-default-custom\n    >\n  </div>\n  <div class="ins-hands-container">\n  <hands-component></hands-component>\n  </div>\n</section>',t.querySelector(".instructions__btn").addEventListener("click",(()=>{e.goTo("/play")})),t}},{path:/\/dwf-m5-desafio\/play$/,component:function(e){const t=document.createElement("div");t.innerHTML='<section class="play">\n  <div class="play-content">\n    <div class="spinner"></div>\n    <h2 variant="title" class="spinner__text"></h2>\n    <div class="hands-container">\n     <a-move typemove="tijera" class="move-icon"></a-move>\n     <a-move typemove="piedra" class="move-icon"></a-move>\n     <a-move typemove="papel" class="move-icon"></a-move>\n    </div>\n    </div>\n    <div class="move-player-container"></div>\n    <div class="move-machine-container"></div>\n</section>';const n=t.querySelectorAll(".move-icon");let s=null;for(const e of n)e.addEventListener("typemove",(t=>{e.classList.remove("set-opacity"),e.classList.remove("shrink-icon");for(const e of n)e.getAttribute("typemove")!=t.detail.move&&(e.classList.add("set-opacity"),e.classList.add("shrink-icon"));s=t.detail.move}));let o=3;const a=t.querySelector(".spinner__text"),r=setInterval((()=>{if(a.innerHTML=`${o}`,o--,-2==o){clearInterval(r);if(t.querySelector(".play-content").style.display="none",null!=s){i.setMove(s);!function(e,t){const n=document.createElement("a-move"),s=document.createElement("a-move"),o=i.getCurrentPlay();n.setAttribute("typemove",o.playerMove),s.setAttribute("typemove",o.machineMove),
//! Ver las dimensiones del componente, capaz sirve agrandar/achicar un poco según el dispositivo
e.appendChild(n),t.appendChild(s)}(t.querySelector(".move-player-container"),t.querySelector(".move-machine-container"));setTimeout((()=>{const n=document.createElement("view-result");n.classList.add("set-font-family"),n.setAttribute("result",i.getCurrentWhoWins()),n.setAttribute("player-points",JSON.stringify(i.getHistoryOfPoints().playerPoints)),n.setAttribute("Machine-points",JSON.stringify(i.getHistoryOfPoints().machinePoints)),n.addEventListener("newgame",(()=>{e.goTo("/play")})),t.appendChild(n)}),3e3)}else e.goTo("/instructions")}}),1e3);return t}}];var a;s.register("vNK0r",(function(e,t){var n,s,i,o,a;n=e.exports,s="getBundleURL",i=()=>a,o=e=>a=e,Object.defineProperty(n,s,{get:i,set:o,enumerable:!0,configurable:!0});var r=null;function c(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}a=function(){return r||(r=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return c(e[0])}return"/"}()),r}})),a=s("vNK0r").getBundleURL()+"piedra-for-component.9126c655.png";var r;r=s("vNK0r").getBundleURL()+"papel-for-component.6e5b5516.png";var c;c=s("vNK0r").getBundleURL()+"tijera-for-component.56fa437d.png";var l;l=s("vNK0r").getBundleURL()+"tijera.0e6cd8c0.png";var d;d=s("vNK0r").getBundleURL()+"piedra.1f909a13.png";var h;h=s("vNK0r").getBundleURL()+"papel.a7b76899.png";var p;p=s("vNK0r").getBundleURL()+"ganaste-icon.7f930fb5.png";var m;m=s("vNK0r").getBundleURL()+"perdiste-icon.ef0e3b8a.png";var u;u=s("vNK0r").getBundleURL()+"empate-icon.991cb981.png",customElements.define("text-custom",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.variant=this.getAttribute("variant"),this.strike=JSON.parse(this.getAttribute("strike"));const e=document.createElement("style");e.textContent="\n        .set-margin-to-zero{\n          margin: 0;\n                  }\n                  .title{\n                    font-weight: 700;\n                    font-size: 80px;\n                  }\n                  .subtitle{\n                    font-weight: 400;\n                    font-size: 55px;\n                  }\n                  .big-text{\n                    font-weight: 400;\n                    font-size: 45px;\n                  }\n                  .small-text {\n                    font-weight: 600;\n                    font-size: 40px;\n                  }\n                  .strike {\n                    text-decoration:line-through;\n                  }\n                  .set-line-height{\n                    line-height: 92.1%;\n                  }\n                  ",this.shadow.appendChild(e),this.render()}render(){const e=[{name:"title",class:"title",elementType:"h1"},{name:"subtitle",class:"subtitle",elementType:"h2"},{name:"small-text",class:"small-text",elementType:"p"},{name:"big-text",class:"big-text",elementType:"p"}];if(this.variant){for(const t of e)if(t.name==this.variant){const e=document.createElement(t.elementType);e.classList.add(t.class),e.classList.add("set-margin-to-zero"),e.classList.add("set-line-height"),1==this.strike&&e.classList.add("strike"),e.textContent=this.textContent,this.shadow.appendChild(e)}}else{const e=document.createElement("p");e.classList.add("small-text"),e.classList.add("set-margin-to-zero"),e.classList.add("set-line-height"),1==this.strike&&e.classList.add("strike"),e.textContent=this.textContent,this.shadow.appendChild(e)}}}),customElements.define("btn-default-custom",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent="\n        .btn-default {\n          font-family: inherit;\n          font-weight: 400;\n          font-size: 45px;\n          border: 10px solid var(--btn-blue-color-focus);\n          border-radius: 10px;\n          padding: 7px 6px;\n          background-color: var(--btn-blue-color);\n          color: #FFF;\n          width: 100%;\n        }\n        .btn-default:hover {\n          cursor: pointer;\n          background-color: #0f74f8;\n        }\n        ",this.shadow.appendChild(e),this.render()}render(){const e=document.createElement("button");e.classList.add("btn-default"),e.textContent=this.textContent,this.shadow.appendChild(e)}}),customElements.define("a-move",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.typemove=this.getAttribute("typemove").toLowerCase();const e=document.createElement("style");e.textContent="\n        .icon {\n          cursor: pointer;\n        }\n        @media (max-width:769px) {\n          .icon{\n            width: 90px;\n            height: 170px;\n          }\n        }\n        ",this.shadow.appendChild(e),this.render()}render(){const e=document.createElement("div");e.innerHTML=`<img src ="${this.findIconImageUrl()}" class="icon"></img>`,e.querySelector(".icon").addEventListener("click",(()=>{const e=new CustomEvent("typemove",{detail:{move:this.typemove}});this.dispatchEvent(e)})),this.shadow.appendChild(e)}findIconImageUrl(){return"piedra"==this.typemove?a:"papel"==this.typemove?r:"tijera"==this.typemove?c:void 0}}),customElements.define("view-result",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.result=JSON.parse(this.getAttribute("result")),this.playerPoints=JSON.parse(this.getAttribute("player-points")),this.machinePoints=JSON.parse(this.getAttribute("machine-points"));const e=document.createElement("style");e.textContent="\n        .background-setter {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          opacity: 0.7;\n        }\n        .result {\n          position: fixed;\n          top: 0;\n          width: 100vw;\n          height: 100vh;\n        }\n        .result-content {\n          height: 100%;\n          display: grid;\n          justify-content: center;\n          align-items: center;\n          gap: 21px;\n        }\n        .container__star{\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        .score {\n          width: 259px;\n          border: 10px solid black;\n          border-radius: 10px;\n          background-color: #fff;\n          margin: 0 auto;\n          display: flex;\n          flex-direction: column;\n          justify-content:center;\n          gap: 25px;\n          padding: 20px 10px 20px 10px;\n          text-align: center;\n        }\n        .score__text{\n          text-align: right;\n        }\n        ",this.shadow.appendChild(e),this.setBgColorAndIconUrl(),this.render()}render(){const e=document.createElement("div");e.innerHTML=`<div class="background-setter"></div>\n        <section class="result">\n          <div class="result-content">\n            <div class="container__star">\n              <img src ="${this.iconImgUrl}" alt="${this.result+"icon"}">\n            </div>\n            <div class="score">\n              <div class="score__title">\n                <text-custom variant="subtitle">Score</text-custom>\n              </div>\n              <div class="score__text">\n                <text-custom variant="big-text">Vos: ${this.playerPoints}</text-custom>\n                <text-custom variant="big-text">Máquina: ${this.machinePoints}</text-custom>\n              </div>\n            </div>\n            <btn-default-custom class="result__btn"\n              >Volver a Jugar</btn-default-custom\n            >\n          </div>\n        </section>`,e.querySelector(".result__btn").addEventListener("click",(()=>{const e=new CustomEvent("newgame");this.dispatchEvent(e)})),e.querySelector(".background-setter").style.backgroundColor=this.bgColor,this.shadow.appendChild(e)}setBgColorAndIconUrl(){1==this.result?(this.bgColor="#888949E5",this.iconImgUrl=p):-1==this.result?(this.bgColor="#894949e5",this.iconImgUrl=m):0==this.result&&(this.bgColor="#495f89e5",this.iconImgUrl=u)}}),customElements.define("hands-component",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent="\n        .hands-container {\n            width: 100vw;\n            display: grid;\n            grid-template-columns: repeat(3, auto);\n            justify-content: center;\n            gap: 46.71px;\n          }\n          @media (min-width: 769px) {\n            .hands-container {\n              gap: 65px;\n            }\n          }\n          .hand-icon {\n            width: 70px;\n            height: 120px;\n          }\n          @media (min-width: 769px) {\n            .hand-icon {\n              width: 79px;\n              height: 141px;\n            }\n          }\n          ",this.shadow.appendChild(e),this.render()}render(){const e=document.createElement("div");e.innerHTML=`  <div class="hands-container">\n          <img class="hand-icon" src="${l}" alt="" />\n          <img class="hand-icon" src="${d}" alt="" />\n          <img class="hand-icon" src="${h}" alt="" />\n        </div>`,this.shadow.appendChild(e)}});!function(e){function t(e){history.pushState({},"","/dwf-m5-desafio"+e),n(e)}function n(n){for(const s of o)if(s.path.test(n)){const n=s.component({goTo:t});e.firstChild&&e.firstChild.remove(),e.appendChild(n)}}"/dwf-m5-desafio/"==location.pathname?t("/home"):n(location.pathname),window.onpopstate=()=>{n(location.pathname)}}(document.getElementById("root")),i.init();
//# sourceMappingURL=index.07b556d3.js.map
